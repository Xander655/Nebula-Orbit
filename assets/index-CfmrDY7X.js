var ot=e=>{throw TypeError(e)};var Be=(e,t,r)=>t.has(e)||ot("Cannot "+r);var D=(e,t,r)=>(Be(e,t,"read from private field"),r?r.call(e):t.get(e)),ge=(e,t,r)=>t.has(e)?ot("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),be=(e,t,r,i)=>(Be(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),ve=(e,t,r)=>(Be(e,t,"access private method"),r);import{S as Qt,s as Yt,h as lt,g as Xt,n as At,u as Zt,r as ee,a as Gt,b as er,R as Z,j as v,P as tr,c as pt,d as rr,e as sr,B as ir,o as ar,f as le,i as Ve,k as nr}from"./index-v4Em03TS.js";var de,ce,I,se,ie,Ne,qe,wt,or=(wt=class extends Qt{constructor(t,r){super();ge(this,ie);ge(this,de);ge(this,ce);ge(this,I);ge(this,se);be(this,de,t),this.setOptions(r),this.bindMethods(),ve(this,ie,Ne).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=D(this,de).defaultMutationOptions(t),Yt(this.options,r)||D(this,de).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,I),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&lt(r.mutationKey)!==lt(this.options.mutationKey)?this.reset():((i=D(this,I))==null?void 0:i.state.status)==="pending"&&D(this,I).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=D(this,I))==null||t.removeObserver(this)}onMutationUpdate(t){ve(this,ie,Ne).call(this),ve(this,ie,qe).call(this,t)}getCurrentResult(){return D(this,ce)}reset(){var t;(t=D(this,I))==null||t.removeObserver(this),be(this,I,void 0),ve(this,ie,Ne).call(this),ve(this,ie,qe).call(this)}mutate(t,r){var i;return be(this,se,r),(i=D(this,I))==null||i.removeObserver(this),be(this,I,D(this,de).getMutationCache().build(D(this,de),this.options)),D(this,I).addObserver(this),D(this,I).execute(t)}},de=new WeakMap,ce=new WeakMap,I=new WeakMap,se=new WeakMap,ie=new WeakSet,Ne=function(){var r;const t=((r=D(this,I))==null?void 0:r.state)??Xt();be(this,ce,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},qe=function(t){At.batch(()=>{var r,i,n,o,u,f,w,S;if(D(this,se)&&this.hasListeners()){const x=D(this,ce).variables,V=D(this,ce).context;(t==null?void 0:t.type)==="success"?((i=(r=D(this,se)).onSuccess)==null||i.call(r,t.data,x,V),(o=(n=D(this,se)).onSettled)==null||o.call(n,t.data,null,x,V)):(t==null?void 0:t.type)==="error"&&((f=(u=D(this,se)).onError)==null||f.call(u,t.error,x,V),(S=(w=D(this,se)).onSettled)==null||S.call(w,void 0,t.error,x,V))}this.listeners.forEach(x=>{x(D(this,ce))})})},wt);function lr(e,t){const r=Zt(),[i]=ee.useState(()=>new or(r,e));ee.useEffect(()=>{i.setOptions(e)},[i,e]);const n=ee.useSyncExternalStore(ee.useCallback(u=>i.subscribe(At.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=ee.useCallback((u,f)=>{i.mutate(u,f).catch(Gt)},[i]);if(n.error&&er(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}var Ee=e=>e.type==="checkbox",ye=e=>e instanceof Date,L=e=>e==null;const Et=e=>typeof e=="object";var R=e=>!L(e)&&!Array.isArray(e)&&Et(e)&&!ye(e),ur=e=>R(e)&&e.target?Ee(e.target)?e.target.checked:e.target.value:e,dr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,cr=(e,t)=>e.has(dr(t)),fr=e=>{const t=e.constructor&&e.constructor.prototype;return R(t)&&t.hasOwnProperty("isPrototypeOf")},We=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function C(e){let t;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(We&&(e instanceof Blob||i))&&(r||R(e)))if(t=r?[]:{},!r&&!fr(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=C(e[n]));else return e;return t}var Ce=e=>Array.isArray(e)?e.filter(Boolean):[],O=e=>e===void 0,h=(e,t,r)=>{if(!t||!R(e))return r;const i=Ce(t.split(/[,[\].]+?/)).reduce((n,o)=>L(n)?n:n[o],e);return O(i)||i===e?O(e[t])?r:e[t]:i},G=e=>typeof e=="boolean",Ke=e=>/^\w*$/.test(e),St=e=>Ce(e.replace(/["|']|\]/g,"").split(/\.|\[/)),p=(e,t,r)=>{let i=-1;const n=Ke(t)?[t]:St(t),o=n.length,u=o-1;for(;++i<o;){const f=n[i];let w=r;if(i!==u){const S=e[f];w=R(S)||Array.isArray(S)?S:isNaN(+n[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=w,e=e[f]}};const ut={BLUR:"blur",FOCUS_OUT:"focusout"},J={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},re={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Z.createContext(null);var yr=(e,t,r,i=!0)=>{const n={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const u=o;return t._proxyFormState[u]!==J.all&&(t._proxyFormState[u]=!i||J.all),e[u]}});return n};const hr=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;var te=e=>typeof e=="string",mr=(e,t,r,i,n)=>te(e)?(i&&t.watch.add(e),h(r,e,n)):Array.isArray(e)?e.map(o=>(i&&t.watch.add(o),h(r,o))):(i&&(t.watchAll=!0),r),Dt=(e,t,r,i,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:n||!0}}:{},Ae=e=>Array.isArray(e)?e:[e],dt=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},$e=e=>L(e)||!Et(e);function ue(e,t){if($e(e)||$e(t))return e===t;if(ye(e)&&ye(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const n of r){const o=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const u=t[n];if(ye(o)&&ye(u)||R(o)&&R(u)||Array.isArray(o)&&Array.isArray(u)?!ue(o,u):o!==u)return!1}}return!0}var T=e=>R(e)&&!Object.keys(e).length,ze=e=>e.type==="file",Q=e=>typeof e=="function",Oe=e=>{if(!We)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kt=e=>e.type==="select-multiple",Je=e=>e.type==="radio",gr=e=>Je(e)||Ee(e),He=e=>Oe(e)&&e.isConnected;function br(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=O(e)?i++:e[t[i++]];return e}function vr(e){for(const t in e)if(e.hasOwnProperty(t)&&!O(e[t]))return!1;return!0}function M(e,t){const r=Array.isArray(t)?t:Ke(t)?[t]:St(t),i=r.length===1?e:br(e,r),n=r.length-1,o=r[n];return i&&delete i[o],n!==0&&(R(i)&&T(i)||Array.isArray(i)&&vr(i))&&M(e,r.slice(0,-1)),e}var Nt=e=>{for(const t in e)if(Q(e[t]))return!0;return!1};function je(e,t={}){const r=Array.isArray(e);if(R(e)||r)for(const i in e)Array.isArray(e[i])||R(e[i])&&!Nt(e[i])?(t[i]=Array.isArray(e[i])?[]:{},je(e[i],t[i])):L(e[i])||(t[i]=!0);return t}function Rt(e,t,r){const i=Array.isArray(e);if(R(e)||i)for(const n in e)Array.isArray(e[n])||R(e[n])&&!Nt(e[n])?O(t)||$e(r[n])?r[n]=Array.isArray(e[n])?je(e[n],[]):{...je(e[n])}:Rt(e[n],L(t)?{}:t[n],r[n]):r[n]=!ue(e[n],t[n]);return r}var Fe=(e,t)=>Rt(e,t,je(t));const ct={value:!1,isValid:!1},ft={value:!0,isValid:!0};var Ot=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?ft:{value:e[0].value,isValid:!0}:ft:ct}return ct},jt=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>O(e)?e:t?e===""?NaN:e&&+e:r&&te(e)?new Date(e):i?i(e):e;const yt={isValid:!1,value:null};var Mt=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,yt):yt;function ht(e){const t=e.ref;return ze(t)?t.files:Je(t)?Mt(e.refs).value:kt(t)?[...t.selectedOptions].map(({value:r})=>r):Ee(t)?Ot(e.refs).value:jt(O(t.value)?e.ref.value:t.value,e)}var xr=(e,t,r,i)=>{const n={};for(const o of e){const u=h(t,o);u&&p(n,o,u._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:i}},Me=e=>e instanceof RegExp,we=e=>O(e)?e:Me(e)?e.source:R(e)?Me(e.value)?e.value.source:e.value:e,mt=e=>({isOnSubmit:!e||e===J.onSubmit,isOnBlur:e===J.onBlur,isOnChange:e===J.onChange,isOnAll:e===J.all,isOnTouch:e===J.onTouched});const gt="AsyncFunction";var _r=e=>!!e&&!!e.validate&&!!(Q(e.validate)&&e.validate.constructor.name===gt||R(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===gt)),Vr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),bt=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const pe=(e,t,r,i)=>{for(const n of r||Object.keys(e)){const o=h(e,n);if(o){const{_f:u,...f}=o;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],n)&&!i)return!0;if(u.ref&&t(u.ref,u.name)&&!i)return!0;if(pe(f,t))break}else if(R(f)&&pe(f,t))break}}};function vt(e,t,r){const i=h(e,r);if(i||Ke(r))return{error:i,name:r};const n=r.split(".");for(;n.length;){const o=n.join("."),u=h(t,o),f=h(e,o);if(u&&!Array.isArray(u)&&r!==o)return{name:r};if(f&&f.type)return{name:o,error:f};n.pop()}return{name:r}}var Fr=(e,t,r,i)=>{r(e);const{name:n,...o}=e;return T(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(u=>t[u]===(!i||J.all))},wr=(e,t,r)=>!e||!t||e===t||Ae(e).some(i=>i&&(r?i===t:i.startsWith(t)||t.startsWith(i))),Ar=(e,t,r,i,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?i.isOnBlur:n.isOnBlur)?!e:(r?i.isOnChange:n.isOnChange)?e:!0,pr=(e,t)=>!Ce(h(e,t)).length&&M(e,t),Er=(e,t,r)=>{const i=Ae(h(e,r));return p(i,"root",t[r]),p(e,r,i),e},Re=e=>te(e);function xt(e,t,r="validate"){if(Re(e)||Array.isArray(e)&&e.every(Re)||G(e)&&!e)return{type:r,message:Re(e)?e:"",ref:t}}var xe=e=>R(e)&&!Me(e)?e:{value:e,message:""},_t=async(e,t,r,i,n,o)=>{const{ref:u,refs:f,required:w,maxLength:S,minLength:x,min:V,max:b,pattern:ae,validate:W,name:k,valueAsNumber:K,mount:he}=e._f,g=h(r,k);if(!he||t.has(k))return{};const B=f?f[0]:u,H=_=>{n&&B.reportValidity&&(B.setCustomValidity(G(_)?"":_||""),B.reportValidity())},j={},Se=Je(u),ne=Ee(u),Pe=Se||ne,z=(K||ze(u))&&O(u.value)&&O(g)||Oe(u)&&u.value===""||g===""||Array.isArray(g)&&!g.length,fe=Dt.bind(null,k,i,j),Y=(_,A,N,P=re.maxLength,U=re.minLength)=>{const X=_?A:N;j[k]={type:_?P:U,message:X,ref:u,...fe(_?P:U,X)}};if(o?!Array.isArray(g)||!g.length:w&&(!Pe&&(z||L(g))||G(g)&&!g||ne&&!Ot(f).isValid||Se&&!Mt(f).isValid)){const{value:_,message:A}=Re(w)?{value:!!w,message:w}:xe(w);if(_&&(j[k]={type:re.required,message:A,ref:B,...fe(re.required,A)},!i))return H(A),j}if(!z&&(!L(V)||!L(b))){let _,A;const N=xe(b),P=xe(V);if(!L(g)&&!isNaN(g)){const U=u.valueAsNumber||g&&+g;L(N.value)||(_=U>N.value),L(P.value)||(A=U<P.value)}else{const U=u.valueAsDate||new Date(g),X=De=>new Date(new Date().toDateString()+" "+De),_e=u.type=="time",me=u.type=="week";te(N.value)&&g&&(_=_e?X(g)>X(N.value):me?g>N.value:U>new Date(N.value)),te(P.value)&&g&&(A=_e?X(g)<X(P.value):me?g<P.value:U<new Date(P.value))}if((_||A)&&(Y(!!_,N.message,P.message,re.max,re.min),!i))return H(j[k].message),j}if((S||x)&&!z&&(te(g)||o&&Array.isArray(g))){const _=xe(S),A=xe(x),N=!L(_.value)&&g.length>+_.value,P=!L(A.value)&&g.length<+A.value;if((N||P)&&(Y(N,_.message,A.message),!i))return H(j[k].message),j}if(ae&&!z&&te(g)){const{value:_,message:A}=xe(ae);if(Me(_)&&!g.match(_)&&(j[k]={type:re.pattern,message:A,ref:u,...fe(re.pattern,A)},!i))return H(A),j}if(W){if(Q(W)){const _=await W(g,r),A=xt(_,B);if(A&&(j[k]={...A,...fe(re.validate,A.message)},!i))return H(A.message),j}else if(R(W)){let _={};for(const A in W){if(!T(_)&&!i)break;const N=xt(await W[A](g,r),B,A);N&&(_={...N,...fe(A,N.message)},H(N.message),i&&(j[k]=_))}if(!T(_)&&(j[k]={ref:B,..._},!i))return j}}return H(!0),j};const Sr={mode:J.onSubmit,reValidateMode:J.onChange,shouldFocusError:!0};function Dr(e={}){let t={...Sr,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Q(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const i={};let n=R(t.defaultValues)||R(t.values)?C(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:C(n),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},w,S=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let V={...x};const b={array:dt(),state:dt()},ae=t.criteriaMode===J.all,W=s=>a=>{clearTimeout(S),S=setTimeout(s,a)},k=async s=>{if(!t.disabled&&(x.isValid||V.isValid||s)){const a=t.resolver?T((await ne()).errors):await z(i,!0);a!==r.isValid&&b.state.next({isValid:a})}},K=(s,a)=>{!t.disabled&&(x.isValidating||x.validatingFields||V.isValidating||V.validatingFields)&&((s||Array.from(f.mount)).forEach(l=>{l&&(a?p(r.validatingFields,l,a):M(r.validatingFields,l))}),b.state.next({validatingFields:r.validatingFields,isValidating:!T(r.validatingFields)}))},he=(s,a=[],l,y,c=!0,d=!0)=>{if(y&&l&&!t.disabled){if(u.action=!0,d&&Array.isArray(h(i,s))){const m=l(h(i,s),y.argA,y.argB);c&&p(i,s,m)}if(d&&Array.isArray(h(r.errors,s))){const m=l(h(r.errors,s),y.argA,y.argB);c&&p(r.errors,s,m),pr(r.errors,s)}if((x.touchedFields||V.touchedFields)&&d&&Array.isArray(h(r.touchedFields,s))){const m=l(h(r.touchedFields,s),y.argA,y.argB);c&&p(r.touchedFields,s,m)}(x.dirtyFields||V.dirtyFields)&&(r.dirtyFields=Fe(n,o)),b.state.next({name:s,isDirty:Y(s,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else p(o,s,a)},g=(s,a)=>{p(r.errors,s,a),b.state.next({errors:r.errors})},B=s=>{r.errors=s,b.state.next({errors:r.errors,isValid:!1})},H=(s,a,l,y)=>{const c=h(i,s);if(c){const d=h(o,s,O(l)?h(n,s):l);O(d)||y&&y.defaultChecked||a?p(o,s,a?d:ht(c._f)):N(s,d),u.mount&&k()}},j=(s,a,l,y,c)=>{let d=!1,m=!1;const F={name:s};if(!t.disabled){if(!l||y){(x.isDirty||V.isDirty)&&(m=r.isDirty,r.isDirty=F.isDirty=Y(),d=m!==F.isDirty);const E=ue(h(n,s),a);m=!!h(r.dirtyFields,s),E?M(r.dirtyFields,s):p(r.dirtyFields,s,!0),F.dirtyFields=r.dirtyFields,d=d||(x.dirtyFields||V.dirtyFields)&&m!==!E}if(l){const E=h(r.touchedFields,s);E||(p(r.touchedFields,s,l),F.touchedFields=r.touchedFields,d=d||(x.touchedFields||V.touchedFields)&&E!==l)}d&&c&&b.state.next(F)}return d?F:{}},Se=(s,a,l,y)=>{const c=h(r.errors,s),d=(x.isValid||V.isValid)&&G(a)&&r.isValid!==a;if(t.delayError&&l?(w=W(()=>g(s,l)),w(t.delayError)):(clearTimeout(S),w=null,l?p(r.errors,s,l):M(r.errors,s)),(l?!ue(c,l):c)||!T(y)||d){const m={...y,...d&&G(a)?{isValid:a}:{},errors:r.errors,name:s};r={...r,...m},b.state.next(m)}},ne=async s=>{K(s,!0);const a=await t.resolver(o,t.context,xr(s||f.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return K(s),a},Pe=async s=>{const{errors:a}=await ne(s);if(s)for(const l of s){const y=h(a,l);y?p(r.errors,l,y):M(r.errors,l)}else r.errors=a;return a},z=async(s,a,l={valid:!0})=>{for(const y in s){const c=s[y];if(c){const{_f:d,...m}=c;if(d){const F=f.array.has(d.name),E=c._f&&_r(c._f);E&&x.validatingFields&&K([y],!0);const q=await _t(c,f.disabled,o,ae,t.shouldUseNativeValidation&&!a,F);if(E&&x.validatingFields&&K([y]),q[d.name]&&(l.valid=!1,a))break;!a&&(h(q,d.name)?F?Er(r.errors,q,d.name):p(r.errors,d.name,q[d.name]):M(r.errors,d.name))}!T(m)&&await z(m,a,l)}}return l.valid},fe=()=>{for(const s of f.unMount){const a=h(i,s);a&&(a._f.refs?a._f.refs.every(l=>!He(l)):!He(a._f.ref))&&Te(s)}f.unMount=new Set},Y=(s,a)=>!t.disabled&&(s&&a&&p(o,s,a),!ue(De(),n)),_=(s,a,l)=>mr(s,f,{...u.mount?o:O(a)?n:te(s)?{[s]:a}:a},l,a),A=s=>Ce(h(u.mount?o:n,s,t.shouldUnregister?h(n,s,[]):[])),N=(s,a,l={})=>{const y=h(i,s);let c=a;if(y){const d=y._f;d&&(!d.disabled&&p(o,s,jt(a,d)),c=Oe(d.ref)&&L(a)?"":a,kt(d.ref)?[...d.ref.options].forEach(m=>m.selected=c.includes(m.value)):d.refs?Ee(d.ref)?d.refs.forEach(m=>{(!m.defaultChecked||!m.disabled)&&(Array.isArray(c)?m.checked=!!c.find(F=>F===m.value):m.checked=c===m.value||!!c)}):d.refs.forEach(m=>m.checked=m.value===c):ze(d.ref)?d.ref.value="":(d.ref.value=c,d.ref.type||b.state.next({name:s,values:C(o)})))}(l.shouldDirty||l.shouldTouch)&&j(s,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&me(s)},P=(s,a,l)=>{for(const y in a){if(!a.hasOwnProperty(y))return;const c=a[y],d=`${s}.${y}`,m=h(i,d);(f.array.has(s)||R(c)||m&&!m._f)&&!ye(c)?P(d,c,l):N(d,c,l)}},U=(s,a,l={})=>{const y=h(i,s),c=f.array.has(s),d=C(a);p(o,s,d),c?(b.array.next({name:s,values:C(o)}),(x.isDirty||x.dirtyFields||V.isDirty||V.dirtyFields)&&l.shouldDirty&&b.state.next({name:s,dirtyFields:Fe(n,o),isDirty:Y(s,d)})):y&&!y._f&&!L(d)?P(s,d,l):N(s,d,l),bt(s,f)&&b.state.next({...r}),b.state.next({name:u.mount?s:void 0,values:C(o)})},X=async s=>{u.mount=!0;const a=s.target;let l=a.name,y=!0;const c=h(i,l),d=E=>{y=Number.isNaN(E)||ye(E)&&isNaN(E.getTime())||ue(E,h(o,l,E))},m=mt(t.mode),F=mt(t.reValidateMode);if(c){let E,q;const ke=a.type?ht(c._f):ur(s),oe=s.type===ut.BLUR||s.type===ut.FOCUS_OUT,Kt=!Vr(c._f)&&!t.resolver&&!h(r.errors,l)&&!c._f.deps||Ar(oe,h(r.touchedFields,l),r.isSubmitted,F,m),Ue=bt(l,f,oe);p(o,l,ke),oe?(c._f.onBlur&&c._f.onBlur(s),w&&w(0)):c._f.onChange&&c._f.onChange(s);const Ie=j(l,ke,oe),zt=!T(Ie)||Ue;if(!oe&&b.state.next({name:l,type:s.type,values:C(o)}),Kt)return(x.isValid||V.isValid)&&(t.mode==="onBlur"?oe&&k():oe||k()),zt&&b.state.next({name:l,...Ue?{}:Ie});if(!oe&&Ue&&b.state.next({...r}),t.resolver){const{errors:at}=await ne([l]);if(d(ke),y){const Jt=vt(r.errors,i,l),nt=vt(at,i,Jt.name||l);E=nt.error,l=nt.name,q=T(at)}}else K([l],!0),E=(await _t(c,f.disabled,o,ae,t.shouldUseNativeValidation))[l],K([l]),d(ke),y&&(E?q=!1:(x.isValid||V.isValid)&&(q=await z(i,!0)));y&&(c._f.deps&&me(c._f.deps),Se(l,q,E,Ie))}},_e=(s,a)=>{if(h(r.errors,a)&&s.focus)return s.focus(),1},me=async(s,a={})=>{let l,y;const c=Ae(s);if(t.resolver){const d=await Pe(O(s)?s:c);l=T(d),y=s?!c.some(m=>h(d,m)):l}else s?(y=(await Promise.all(c.map(async d=>{const m=h(i,d);return await z(m&&m._f?{[d]:m}:m)}))).every(Boolean),!(!y&&!r.isValid)&&k()):y=l=await z(i);return b.state.next({...!te(s)||(x.isValid||V.isValid)&&l!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:l}:{},errors:r.errors}),a.shouldFocus&&!y&&pe(i,_e,s?c:f.mount),y},De=s=>{const a={...u.mount?o:n};return O(s)?a:te(s)?h(a,s):s.map(l=>h(a,l))},Ye=(s,a)=>({invalid:!!h((a||r).errors,s),isDirty:!!h((a||r).dirtyFields,s),error:h((a||r).errors,s),isValidating:!!h(r.validatingFields,s),isTouched:!!h((a||r).touchedFields,s)}),Ut=s=>{s&&Ae(s).forEach(a=>M(r.errors,a)),b.state.next({errors:s?r.errors:{}})},Xe=(s,a,l)=>{const y=(h(i,s,{_f:{}})._f||{}).ref,c=h(r.errors,s)||{},{ref:d,message:m,type:F,...E}=c;p(r.errors,s,{...E,...a,ref:y}),b.state.next({name:s,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},It=(s,a)=>Q(s)?b.state.subscribe({next:l=>s(_(void 0,a),l)}):_(s,a,!0),Ze=s=>b.state.subscribe({next:a=>{wr(s.name,a.name,s.exact)&&Fr(a,s.formState||x,Wt,s.reRenderRoot)&&s.callback({values:{...o},...r,...a})}}).unsubscribe,Bt=s=>(u.mount=!0,V={...V,...s.formState},Ze({...s,formState:V})),Te=(s,a={})=>{for(const l of s?Ae(s):f.mount)f.mount.delete(l),f.array.delete(l),a.keepValue||(M(i,l),M(o,l)),!a.keepError&&M(r.errors,l),!a.keepDirty&&M(r.dirtyFields,l),!a.keepTouched&&M(r.touchedFields,l),!a.keepIsValidating&&M(r.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&M(n,l);b.state.next({values:C(o)}),b.state.next({...r,...a.keepDirty?{isDirty:Y()}:{}}),!a.keepIsValid&&k()},Ge=({disabled:s,name:a})=>{(G(s)&&u.mount||s||f.disabled.has(a))&&(s?f.disabled.add(a):f.disabled.delete(a))},Le=(s,a={})=>{let l=h(i,s);const y=G(a.disabled)||G(t.disabled);return p(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),f.mount.add(s),l?Ge({disabled:G(a.disabled)?a.disabled:t.disabled,name:s}):H(s,!0,a.value),{...y?{disabled:a.disabled||t.disabled}:{},...t.progressive?{required:!!a.required,min:we(a.min),max:we(a.max),minLength:we(a.minLength),maxLength:we(a.maxLength),pattern:we(a.pattern)}:{},name:s,onChange:X,onBlur:X,ref:c=>{if(c){Le(s,a),l=h(i,s);const d=O(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,m=gr(d),F=l._f.refs||[];if(m?F.find(E=>E===d):d===l._f.ref)return;p(i,s,{_f:{...l._f,...m?{refs:[...F.filter(He),d,...Array.isArray(h(n,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),H(s,!1,void 0,d)}else l=h(i,s,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(cr(f.array,s)&&u.action)&&f.unMount.add(s)}}},et=()=>t.shouldFocusError&&pe(i,_e,f.mount),Ht=s=>{G(s)&&(b.state.next({disabled:s}),pe(i,(a,l)=>{const y=h(i,l);y&&(a.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(c=>{c.disabled=y._f.disabled||s}))},0,!1))},tt=(s,a)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=C(o);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:m}=await ne();r.errors=d,c=m}else await z(i);if(f.disabled.size)for(const d of f.disabled)p(c,d,void 0);if(M(r.errors,"root"),T(r.errors)){b.state.next({errors:{}});try{await s(c,l)}catch(d){y=d}}else a&&await a({...r.errors},l),et(),setTimeout(et);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:T(r.errors)&&!y,submitCount:r.submitCount+1,errors:r.errors}),y)throw y},qt=(s,a={})=>{h(i,s)&&(O(a.defaultValue)?U(s,C(h(n,s))):(U(s,a.defaultValue),p(n,s,C(a.defaultValue))),a.keepTouched||M(r.touchedFields,s),a.keepDirty||(M(r.dirtyFields,s),r.isDirty=a.defaultValue?Y(s,C(h(n,s))):Y()),a.keepError||(M(r.errors,s),x.isValid&&k()),b.state.next({...r}))},rt=(s,a={})=>{const l=s?C(s):n,y=C(l),c=T(s),d=c?n:y;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const m=new Set([...f.mount,...Object.keys(Fe(n,o))]);for(const F of Array.from(m))h(r.dirtyFields,F)?p(d,F,h(o,F)):U(F,h(d,F))}else{if(We&&O(s))for(const m of f.mount){const F=h(i,m);if(F&&F._f){const E=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(Oe(E)){const q=E.closest("form");if(q){q.reset();break}}}}for(const m of f.mount)U(m,h(d,m))}o=C(d),b.array.next({values:{...d}}),b.state.next({values:{...d}})}f={mount:a.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!t.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:c?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!ue(s,n)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&o?Fe(n,o):r.dirtyFields:a.keepDefaultValues&&s?Fe(n,s):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},st=(s,a)=>rt(Q(s)?s(o):s,a),$t=(s,a={})=>{const l=h(i,s),y=l&&l._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),a.shouldSelect&&Q(c.select)&&c.select())}},Wt=s=>{r={...r,...s}},it={control:{register:Le,unregister:Te,getFieldState:Ye,handleSubmit:tt,setError:Xe,_subscribe:Ze,_runSchema:ne,_getWatch:_,_getDirty:Y,_setValid:k,_setFieldArray:he,_setDisabledField:Ge,_setErrors:B,_getFieldArray:A,_reset:rt,_resetDefaultValues:()=>Q(t.defaultValues)&&t.defaultValues().then(s=>{st(s,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:fe,_disableForm:Ht,_subjects:b,_proxyFormState:x,get _fields(){return i},get _formValues(){return o},get _state(){return u},set _state(s){u=s},get _defaultValues(){return n},get _names(){return f},set _names(s){f=s},get _formState(){return r},get _options(){return t},set _options(s){t={...t,...s}}},subscribe:Bt,trigger:me,register:Le,handleSubmit:tt,watch:It,setValue:U,getValues:De,reset:st,resetField:qt,clearErrors:Ut,unregister:Te,setError:Xe,setFocus:$t,getFieldState:Ye};return{...it,formControl:it}}function kr(e={}){const t=Z.useRef(void 0),r=Z.useRef(void 0),[i,n]=Z.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Dr(e),formState:i},e.formControl&&e.defaultValues&&!Q(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=t.current.control;return o._options=e,hr(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(f=>({...f,isReady:!0})),o._formState.isReady=!0,u},[o]),Z.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Z.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode),e.errors&&!T(e.errors)&&o._setErrors(e.errors)},[o,e.errors,e.mode,e.reValidateMode]),Z.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),Z.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==i.isDirty&&o._subjects.state.next({isDirty:u})}},[o,i.isDirty]),Z.useEffect(()=>{e.values&&!ue(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,n(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),Z.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=yr(i,o),t.current}const Vt=(e,t,r)=>{if(e&&"reportValidity"in e){const i=h(r,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Ct=(e,t)=>{for(const r in t.fields){const i=t.fields[r];i&&i.ref&&"reportValidity"in i.ref?Vt(i.ref,r,e):i&&i.refs&&i.refs.forEach(n=>Vt(n,r,e))}},Nr=(e,t)=>{t.shouldUseNativeValidation&&Ct(e,t);const r={};for(const i in e){const n=h(t.fields,i),o=Object.assign(e[i]||{},{ref:n&&n.ref});if(Rr(t.names||Object.keys(e),i)){const u=Object.assign({},h(r,i));p(u,"root",o),p(r,i,u)}else p(r,i,o)}return r},Rr=(e,t)=>{const r=Ft(t);return e.some(i=>Ft(i).match(`^${r}\\.\\d+`))};function Ft(e){return e.replace(/\]|\[/g,"")}function Or(e,t){for(var r={};e.length;){var i=e[0],n=i.code,o=i.message,u=i.path.join(".");if(!r[u])if("unionErrors"in i){var f=i.unionErrors[0].errors[0];r[u]={message:f.message,type:f.code}}else r[u]={message:o,type:n};if("unionErrors"in i&&i.unionErrors.forEach(function(x){return x.errors.forEach(function(V){return e.push(V)})}),t){var w=r[u].types,S=w&&w[i.code];r[u]=Dt(u,t,r,n,S?[].concat(S,i.message):i.message)}e.shift()}return r}function jr(e,t,r){return r===void 0&&(r={}),function(i,n,o){try{return Promise.resolve(function(u,f){try{var w=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(S){return o.shouldUseNativeValidation&&Ct({},o),{errors:{},values:r.raw?Object.assign({},i):S}})}catch(S){return f(S)}return w&&w.then?w.then(void 0,f):w}(0,function(u){if(function(f){return Array.isArray(f==null?void 0:f.errors)}(u))return{values:{},errors:Nr(Or(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}}var Mr="Label",Pt=ee.forwardRef((e,t)=>v.jsx(tr.label,{...e,ref:t,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Pt.displayName=Mr;var Tt=Pt;const Cr=rr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=ee.forwardRef(({className:e,...t},r)=>v.jsx(Tt,{ref:r,className:pt(Cr(),e),...t}));Qe.displayName=Tt.displayName;const Lt=ee.forwardRef(({className:e,type:t,...r},i)=>v.jsx("input",{type:t,className:pt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));Lt.displayName="Input";const Pr="https://sit.nebula.psi.edu";async function Tr(e){const t=await sr(),r=await fetch(`${Pr}/api/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!r.ok)throw await r.json()}const Lr=ar({useDrPrefix:nr().optional(),role:Ve().min(1,"Role is required"),firstName:Ve().min(1),middleName:Ve().optional(),lastName:Ve().min(1),email:Ve().email(),minHours:le.number().min(0),maxHours:le.number().min(0),hourlyRate:le.number().min(0),vacationRate:le.number().min(0),fringe:le.number().min(0),indirectRate:le.number().min(0),burdenRate:le.number().min(0),payPeriod_MinHours:le.number().min(0)});function $({id:e,label:t,error:r,className:i="",...n}){return v.jsxs("div",{className:i,children:[v.jsx(Qe,{htmlFor:e,children:t}),v.jsx(Lt,{id:e,...n}),r&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:r})]})}const Hr=function(){var u,f,w,S,x,V,b,ae,W,k,K,he;const{register:t,handleSubmit:r,setError:i,formState:{errors:n}}=kr({resolver:jr(Lr)}),o=lr({mutationFn:async g=>{const B={...g,fullName:`${g.firstName} ${g.middleName??""} ${g.lastName}`.trim(),status:"PreEmployment"};await Tr(B)},onError:g=>{if(g!=null&&g.errors)for(const[B,H]of Object.entries(g.errors))i(B,{message:H[0]})}});return v.jsxs("div",{className:"max-w-4xl mx-auto mt-10 space-y-6 px-4",children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Timesheet User Intake"}),v.jsxs("form",{onSubmit:r(g=>o.mutate(g)),className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsx($,{id:"firstName",label:"First Name",error:(u=n.firstName)==null?void 0:u.message,...t("firstName")}),v.jsx($,{id:"middleName",label:"Middle Name",error:(f=n.middleName)==null?void 0:f.message,...t("middleName")}),v.jsx($,{id:"lastName",label:"Last Name",error:(w=n.lastName)==null?void 0:w.message,...t("lastName")})]}),v.jsx($,{id:"email",label:"Email",type:"email",error:(S=n.email)==null?void 0:S.message,...t("email"),className:"md:col-span-2"}),v.jsx("div",{className:"md:col-span-2 flex flex-wrap gap-6 items-center",children:v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",...t("useDrPrefix")})," Use Dr. Prefix"]})}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx(Qe,{htmlFor:"role",children:"Role"}),v.jsxs("select",{id:"role",...t("role"),className:"w-full rounded border px-3 py-2",children:[v.jsx("option",{value:"",children:"Select a role"}),v.jsx("option",{value:"ctiveEmployee",children:"Active Employee"}),v.jsx("option",{value:"FinancialManager",children:"Financial Manager"}),v.jsx("option",{value:"Executive",children:"Executive"})]}),n.role&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.role.message})]}),v.jsx($,{id:"minHours",label:"Min Hours",error:(x=n.minHours)==null?void 0:x.message,...t("minHours")}),v.jsx($,{id:"maxHours",label:"Max Hours",error:(V=n.maxHours)==null?void 0:V.message,...t("maxHours")}),v.jsx($,{id:"hourlyRate",label:"Hourly Rate",error:(b=n.hourlyRate)==null?void 0:b.message,...t("hourlyRate")}),v.jsx($,{id:"vacationRate",label:"Vacation Rate",error:(ae=n.vacationRate)==null?void 0:ae.message,...t("vacationRate")}),v.jsx($,{id:"fringe",label:"Fringe",error:(W=n.fringe)==null?void 0:W.message,...t("fringe")}),v.jsx($,{id:"indirectRate",label:"Indirect Rate",error:(k=n.indirectRate)==null?void 0:k.message,...t("indirectRate")}),v.jsx($,{id:"burdenRate",label:"Burden Rate",error:(K=n.burdenRate)==null?void 0:K.message,...t("burdenRate")}),v.jsx($,{id:"payPeriod_MinHours",label:"Pay Period Min Hours",error:(he=n.payPeriod_MinHours)==null?void 0:he.message,...t("payPeriod_MinHours")}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx(ir,{type:"submit",disabled:o.isPending,children:o.isPending?"Submitting...":"Submit User Info"}),o.isSuccess&&v.jsx("p",{className:"text-green-600 mt-2",children:"Submitted successfully!"}),o.isError&&!Object.keys(n).length&&v.jsx("p",{className:"text-red-600 mt-2",children:"Submission failed. Please check the form."})]})]})]})};export{Hr as component};
